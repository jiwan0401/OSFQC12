<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSF Link - ì˜¤ëšœê¸°SF í’ˆì§ˆí”Œë«í¼</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .hidden { display: none !important; }
        .quiz-option.selected { background-color: #dbeafe; border-color: #3b82f6; color: #1e40af; }
        .quiz-option.correct { background-color: #dcfce7; border-color: #16a34a; color: #15803d; }
        .quiz-option.wrong { background-color: #fef2f2; border-color: #dc2626; color: #dc2626; }
        .icon-box {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- ë¡œê·¸ì¸ í™”ë©´ -->
    <div id="loginScreen" class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex flex-col justify-center items-center px-8">
        <div class="w-full max-w-md">
            <div class="text-center mb-12">
                <div class="w-20 h-20 bg-gradient-to-br from-slate-600 to-blue-600 rounded-2xl mx-auto mb-6 flex items-center justify-center">
                    <span class="text-white text-3xl">ğŸ“š</span>
                </div>
                <h1 class="text-4xl font-bold text-slate-800 mb-2">OSF Link</h1>
                <p class="text-slate-500">ì˜¤ëšœê¸°SF í’ˆì§ˆí”Œë«í¼</p>
            </div>
            
            <div class="bg-white rounded-2xl shadow-xl p-8 space-y-6">
                <input
                    id="employeeId"
                    type="text"
                    placeholder="ì‚¬ë²ˆ"
                    class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-800 bg-white focus:border-blue-400 focus:outline-none transition-colors"
                />
                <input
                    id="password"
                    type="password"
                    placeholder="íŒ¨ìŠ¤ì›Œë“œ"
                    class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-800 bg-white focus:border-blue-400 focus:outline-none transition-colors"
                />
                <button
                    onclick="handleLogin()"
                    class="w-full bg-gradient-to-r from-slate-600 to-blue-600 text-white py-3 rounded-xl hover:from-slate-700 hover:to-blue-700 transition-all duration-200 transform hover:scale-[1.02]"
                >
                    ë¡œê·¸ì¸
                </button>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ í™”ë©´ -->
    <div id="mainScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-6 px-6">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
                        <span class="text-white text-2xl">ğŸ“š</span>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">OSF Link</h1>
                        <p id="adminMode" class="text-sm text-white opacity-80 hidden">ê´€ë¦¬ì ëª¨ë“œ</p>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <button id="saveAllBtn" onclick="saveAllFiles()" class="hidden bg-green-500 hover:bg-green-600 px-3 py-2 rounded-lg transition-colors flex items-center space-x-2">
                        <span class="text-lg">ğŸ’¾</span>
                        <span class="text-sm">ëª¨ë‘ ì €ì¥</span>
                    </button>
                    <div id="notificationBell" class="hidden relative">
                        <span class="text-2xl">ğŸ””</span>
                        <div class="absolute -top-2 -right-2 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center">
                            <span class="text-xs text-white">1</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="p-6">
            <div class="grid grid-cols-1 gap-4">
                <!-- ì›”ë³„êµìœ¡ -->
                <div onclick="showScreen('education')" class="bg-white rounded-2xl shadow-md p-6 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center icon-box">
                                <span class="text-blue-600">ğŸ“…</span>
                            </div>
                            <div>
                                <span class="text-lg font-semibold text-slate-800">ì›”ë³„êµìœ¡</span>
                                <p class="text-sm text-slate-500">êµìœ¡ê³¼ì • ë° í€´ì¦ˆ</p>
                            </div>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <!-- ê³µì§€ì‚¬í•­ -->
                <div onclick="showScreen('notice')" class="bg-white rounded-2xl shadow-md p-6 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-slate-100 to-slate-200 rounded-xl flex items-center justify-center icon-box">
                                <span class="text-slate-600">ğŸ“¢</span>
                            </div>
                            <div>
                                <span class="text-lg font-semibold text-slate-800">ê³µì§€ì‚¬í•­</span>
                                <p class="text-sm text-slate-500">ì¤‘ìš”í•œ ê³µì§€ì‚¬í•­</p>
                            </div>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <!-- ê±´ì˜í•¨ -->
                <div onclick="showScreen('suggestion')" class="bg-white rounded-2xl shadow-md p-6 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-green-100 to-green-200 rounded-xl flex items-center justify-center icon-box">
                                <span class="text-green-600">ğŸ’¡</span>
                            </div>
                            <div>
                                <span class="text-lg font-semibold text-slate-800">ì‹í’ˆì•ˆì „ ë° í’ˆì§ˆê°œì„  ê±´ì˜í•¨</span>
                                <p class="text-sm text-slate-500">ê°œì„ ì‚¬í•­ ì œì•ˆí•˜ê¸°</p>
                            </div>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <!-- ì„¤ì • -->
                <div onclick="showScreen('settings')" class="bg-white rounded-2xl shadow-md p-6 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-purple-100 to-purple-200 rounded-xl flex items-center justify-center icon-box">
                                <span class="text-purple-600">âš™ï¸</span>
                            </div>
                            <div>
                                <span class="text-lg font-semibold text-slate-800">ì„¤ì •</span>
                                <p class="text-sm text-slate-500">í”„ë¡œí•„ ë° ì•± ì„¤ì •</p>
                            </div>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <!-- ê´€ë¦¬ì ì „ìš© ì‚¬ìš©ì ê´€ë¦¬ -->
                <div id="userManagementMenu" onclick="showScreen('userManagement')" class="hidden bg-white rounded-2xl shadow-md p-6 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-[1.02] border border-orange-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-12 h-12 bg-gradient-to-br from-orange-100 to-orange-200 rounded-xl flex items-center justify-center icon-box">
                                <span class="text-orange-600">ğŸ‘¥</span>
                            </div>
                            <div>
                                <span class="text-lg font-semibold text-slate-800">ì‚¬ìš©ì ê´€ë¦¬</span>
                                <p class="text-sm text-slate-500">ì§„ë„ í˜„í™© ë° í€´ì¦ˆ ì ìˆ˜ í™•ì¸</p>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full">ê´€ë¦¬ì</span>
                            <span class="text-slate-400 text-xl">â€º</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì›”ë³„êµìœ¡ í™”ë©´ -->
    <div id="educationScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-4 px-6 flex items-center justify-between">
            <div class="flex items-center">
                <button onclick="showScreen('main')" class="mr-4 text-white hover:text-slate-200 transition-colors text-2xl">â†</button>
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">ğŸ“…</span>
                    <h1 class="text-2xl font-bold">ì›”ë³„êµìœ¡</h1>
                </div>
            </div>
        </div>
        
        <div class="p-6">
            <div class="space-y-4" id="educationList">
                <!-- êµìœ¡ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- ê³µì§€ì‚¬í•­ í™”ë©´ -->
    <div id="noticeScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-4 px-6 flex items-center justify-between">
            <div class="flex items-center">
                <button onclick="showScreen('main')" class="mr-4 text-white hover:text-slate-200 transition-colors text-2xl">â†</button>
                <div class="flex items-center space-x-3">
                    <span class="text-2xl">ğŸ“¢</span>
                    <h1 class="text-2xl font-bold">ê³µì§€ì‚¬í•­</h1>
                </div>
            </div>
            <button id="writeNoticeBtn" onclick="toggleNoticeForm()" class="hidden bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg transition-colors">
                ì‘ì„±
            </button>
        </div>
        
        <div class="p-6">
            <!-- ê³µì§€ì‚¬í•­ ì‘ì„± í¼ -->
            <div id="noticeForm" class="hidden bg-white rounded-2xl shadow-md p-6 mb-6 border border-slate-100">
                <h3 class="text-lg font-semibold text-slate-800 mb-4">ê³µì§€ì‚¬í•­ ì‘ì„±</h3>
                <input
                    id="noticeTitle"
                    type="text"
                    placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”"
                    class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-800 bg-white focus:border-blue-400 focus:outline-none transition-colors mb-4"
                />
                <textarea
                    id="noticeContent"
                    placeholder="ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"
                    rows="4"
                    class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-800 bg-white focus:border-blue-400 focus:outline-none transition-colors mb-4"
                ></textarea>
                <button
                    onclick="addNotice()"
                    class="bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all"
                >
                    ë“±ë¡
                </button>
            </div>

            <div id="noticeList">
                <div class="bg-white rounded-2xl shadow-md p-8 text-center border border-slate-100">
                    <span class="text-5xl mb-4 block">ğŸ“¢</span>
                    <span class="text-slate-500 text-lg">ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ê±´ì˜í•¨ í™”ë©´ -->
    <div id="suggestionScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-4 px-6 flex items-center">
            <button onclick="showScreen('main')" class="mr-4 text-white hover:text-slate-200 transition-colors text-2xl">â†</button>
            <div class="flex items-center space-x-3">
                <span class="text-2xl">ğŸ’¡</span>
                <h1 class="text-2xl font-bold">ì‹í’ˆì•ˆì „ ë° í’ˆì§ˆê°œì„  ê±´ì˜í•¨</h1>
            </div>
        </div>
        
        <div class="p-6">
            <div class="bg-white rounded-2xl shadow-md p-8 text-center border border-slate-100">
                <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <span class="text-3xl">ğŸ“</span>
                </div>
                <h3 class="text-xl font-semibold text-slate-800 mb-4">ê±´ì˜ì‚¬í•­ì„ ì‘ì„±í•´ì£¼ì„¸ìš”</h3>
                <p class="text-slate-500 mb-6">Google Formì„ í†µí•´ ê±´ì˜ì‚¬í•­ì„ ì œì¶œí•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                <button
                    onclick="openGoogleForm()"
                    class="bg-gradient-to-r from-green-500 to-green-600 text-white px-8 py-3 rounded-xl hover:from-green-600 hover:to-green-700 transition-all duration-200 transform hover:scale-105 flex items-center space-x-2 mx-auto"
                >
                    <span class="text-xl">ğŸ”—</span>
                    <span>ê±´ì˜í•¨ ì—´ê¸°</span>
                </button>
            </div>
        </div>
    </div>

    <!-- ì„¤ì • í™”ë©´ -->
    <div id="settingsScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-4 px-6 flex items-center">
            <button onclick="showScreen('main')" class="mr-4 text-white hover:text-slate-200 transition-colors text-2xl">â†</button>
            <div class="flex items-center space-x-3">
                <span class="text-2xl">âš™ï¸</span>
                <h1 class="text-2xl font-bold">ì„¤ì •</h1>
            </div>
        </div>
        
        <div class="p-6">
            <div class="space-y-4">
                <div class="bg-white rounded-2xl shadow-md p-5 cursor-pointer hover:shadow-lg transition-all duration-200 border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-gradient-to-br from-blue-100 to-blue-200 rounded-xl flex items-center justify-center">
                                <span class="text-xl">ğŸ‘¤</span>
                            </div>
                            <span class="text-lg font-medium text-slate-800">ë‚´ í”„ë¡œí•„</span>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-md p-5 cursor-pointer hover:shadow-lg transition-all duration-200 border border-slate-100">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-gradient-to-br from-yellow-100 to-yellow-200 rounded-xl flex items-center justify-center">
                                <span class="text-xl">ğŸ””</span>
                            </div>
                            <span class="text-lg font-medium text-slate-800">ì•Œë¦¼ì„¤ì •</span>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>

                <div class="bg-white rounded-2xl shadow-md p-5 cursor-pointer hover:shadow-lg transition-all duration-200 border border-slate-100" onclick="handleLogout()">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-4">
                            <div class="w-10 h-10 bg-gradient-to-br from-gray-100 to-gray-200 rounded-xl flex items-center justify-center">
                                <span class="text-xl">ğŸšª</span>
                            </div>
                            <span class="text-lg font-medium text-slate-800">ë¡œê·¸ì•„ì›ƒ</span>
                        </div>
                        <span class="text-slate-400 text-xl">â€º</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì‚¬ìš©ì ê´€ë¦¬ í™”ë©´ (ê´€ë¦¬ì ì „ìš©) -->
    <div id="userManagementScreen" class="hidden min-h-screen bg-gradient-to-br from-slate-50 to-blue-50">
        <div class="bg-gradient-to-r from-slate-700 to-blue-700 text-white py-4 px-6 flex items-center">
            <button onclick="showScreen('main')" class="mr-4 text-white hover:text-slate-200 transition-colors text-2xl">â†</button>
            <div class="flex items-center space-x-3">
                <span class="text-2xl">ğŸ‘¥</span>
                <h1 class="text-2xl font-bold">ì‚¬ìš©ì ê´€ë¦¬</h1>
                <span class="text-sm bg-white bg-opacity-20 px-2 py-1 rounded">ê´€ë¦¬ì ì „ìš©</span>
            </div>
        </div>
        
        <div class="p-6">
            <div id="userProgressList" class="grid grid-cols-1 gap-4">
                <!-- ì‚¬ìš©ì ì§„ë„ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- í€´ì¦ˆ ëª¨ë‹¬ -->
    <div id="quizModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-auto">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-gradient-to-br from-blue-100 to-blue-200 rounded-full mx-auto mb-4 flex items-center justify-center">
                        <span class="text-3xl">â“</span>
                    </div>
                    <h3 id="quizTitle" class="text-xl font-semibold text-slate-800 mb-2">2025ë…„ 07ì›” êµìœ¡ ìë£Œ ì‹œí—˜ ë¬¸ì œ</h3>
                    <div id="quizScore" class="hidden text-lg font-bold"></div>
                </div>
                
                <div id="quizQuestions" class="space-y-6">
                    <!-- í€´ì¦ˆ ë¬¸ì œë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                </div>
                
                <div class="flex space-x-3 mt-6">
                    <button onclick="closeQuiz()" class="flex-1 px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-600 hover:bg-slate-50 transition-colors">
                        <span id="quizCloseText">ì·¨ì†Œ</span>
                    </button>
                    <button id="submitQuizBtn" onclick="submitQuiz()" class="flex-1 px-4 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed">
                        ì œì¶œí•˜ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì„œëª… ëª¨ë‹¬ -->
    <div id="signatureModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md">
            <div class="p-6">
                <div class="text-center mb-6">
                    <div class="w-16 h-16 bg-gradient-to-br from-green-100 to-green-200 rounded-full mx-auto mb-4 flex items-center justify-center">
                        <span class="text-3xl">âœï¸</span>
                    </div>
                    <h3 class="text-xl font-semibold text-slate-800 mb-2">êµìœ¡ ì™„ë£Œ ì„œëª…</h3>
                    <p id="signatureModalText" class="text-sm text-slate-600">êµìœ¡ì„ ì™„ë£Œí•˜ì˜€ìŒì„ í™•ì¸í•©ë‹ˆë‹¤.</p>
                </div>
                
                <div class="mb-6">
                    <label class="block text-sm font-medium text-slate-700 mb-2">ì„œëª… (ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”)</label>
                    <input
                        id="signatureInput"
                        type="text"
                        placeholder="í™ê¸¸ë™"
                        class="w-full px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-800 bg-white focus:border-green-400 focus:outline-none transition-colors text-center text-lg font-medium"
                    />
                </div>
                
                <div class="flex space-x-3">
                    <button onclick="closeSignatureModal()" class="flex-1 px-4 py-3 border-2 border-slate-200 rounded-xl text-slate-600 hover:bg-slate-50 transition-colors">
                        ì·¨ì†Œ
                    </button>
                    <button onclick="saveSignature()" class="flex-1 px-4 py-3 bg-gradient-to-r from-green-500 to-green-600 text-white rounded-xl hover:from-green-600 hover:to-green-700 transition-all">
                        ì„œëª… ì™„ë£Œ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentUser = null;
        let isAdmin = false;
        let notices = [];
        let signatures = {};
        let currentQuiz = null;
        let userAnswers = {};
        let quizSubmitted = false;
        let currentSignatureMonth = null;

        // ê´€ë¦¬ì ê³„ì •
        const adminAccounts = {
            'K2020004': { name: 'ì†¡ì„œí˜„' },
            'K2024010': { name: 'ê¹€ì§€ì™„' }
        };

        // í€´ì¦ˆ ë°ì´í„°
        const quizData = {
            7: {
                title: '2025ë…„ 07ì›” êµìœ¡ ìë£Œ ì‹œí—˜ ë¬¸ì œ',
                questions: [
                    {
                        id: 1,
                        question: 'ì„¸ì²™ì´ ë¯¸í¡í•˜ë”ë¼ë„ ê°•ë ¥í•œ ì†Œë…ì œ ì‚¬ìš©ë§Œìœ¼ë¡œ ì‹ì¤‘ë…ê· ì„ ì‚´ë©¸ì‹œí‚¬ ìˆ˜ ìˆë‹¤.',
                        type: 'ox',
                        options: ['O', 'X'],
                        correctAnswer: 1,
                        explanation: 'ì„¸ì²™ì´ ìš°ì„ ë˜ì–´ì•¼ í•˜ë©°, ì†Œë…ì œë§Œìœ¼ë¡œëŠ” ë¶ˆì¶©ë¶„í•©ë‹ˆë‹¤.'
                    },
                    {
                        id: 2,
                        question: 'ì„¸ì²™Â·ì†Œë…ì œ ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­ì— ëŒ€í•œ ì„¤ëª… ì¤‘ ë°”ë¥´ì§€ ì•Šì€ ê²ƒì€?',
                        type: 'multiple',
                        options: [
                            'ì†Œë…ì œì˜ í¬ì„ì•¡ ì œì¡° ì‹œ, ë‹¤ë¥¸ ì‚´ê· ì†Œë…ì œì™€ í˜¼í•©í•˜ì—¬ ì†Œë…íš¨ê³¼ì„±ì„ ë†’ì¸ë‹¤.',
                            'ë°˜ë“œì‹œ ì„¸ì²™ì œ ë° ì†Œë…ì œëŠ” ì‹ì•½ì²˜ í—ˆê°€ë¥¼ ë°›ì€ ì œí’ˆë§Œì„ ì‚¬ìš©í•œë‹¤.',
                            'ì†Œë…ì œ í¬ì„ì•¡ì€ ì¦‰ì‹œ ì‚¬ìš©í•˜ê³  ë‚¨ì€ í¬ì„ì•¡ì„ íê¸°í•œë‹¤.',
                            'ì‹ ì²´ì— ì†Œë…ì œ ì›ì•¡ ë“±ì´ ë¬»ì§€ ì•Šë„ë¡ ë§ˆìŠ¤í¬ ë“± ê°œì¸ ë³´í˜¸ì¥ë¹„ë¥¼ ì°©ìš© í›„ ì‚¬ìš©í•œë‹¤.'
                        ],
                        correctAnswer: 0,
                        explanation: 'ë‹¤ë¥¸ ì‚´ê· ì†Œë…ì œì™€ í˜¼í•©í•˜ë©´ ìœ„í—˜í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ í˜¼í•©í•˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.'
                    },
                    {
                        id: 3,
                        question: 'ì„¸ì²™ì œê°€ ì”ë¥˜í•˜ì§€ ì•Šë„ë¡ ìŒìš©ì— ì í•©í•œ ë¬¼ë¡œ ì¶©ë¶„íˆ í—¹êµ° í›„ ê±´ì¡°ì‹œì¼œì•¼ í•œë‹¤.',
                        type: 'ox',
                        options: ['O', 'X'],
                        correctAnswer: 0,
                        explanation: 'ì„¸ì²™ì œ ì”ë¥˜ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¶©ë¶„í•œ í—¹êµ¼ê³¼ ê±´ì¡°ê°€ í•„ìš”í•©ë‹ˆë‹¤.'
                    },
                    {
                        id: 4,
                        question: 'ë°”ë‹¥ìš©, ì‘ì—…ëŒ€ìš©, ì„¤ë¹„ìš© ë“± ìš©ë„ë³„ë¡œ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•˜ë©°, ì ˆëŒ€ ê²¸ìš©í•˜ì—¬ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤.',
                        type: 'ox',
                        options: ['O', 'X'],
                        correctAnswer: 0,
                        explanation: 'êµì°¨ì˜¤ì—¼ ë°©ì§€ë¥¼ ìœ„í•´ ìš©ë„ë³„ë¡œ êµ¬ë¶„í•˜ì—¬ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.'
                    }
                ]
            }
        };

        // êµìœ¡ ë°ì´í„° ìƒì„±
        function generateEducationData() {
            const currentYear = 2025;
            const months = [];
            for (let i = 1; i <= 12; i++) {
                const monthStr = i.toString().padStart(2, '0');
                const allCompleted = Math.random() > 0.3;
                months.push({
                    id: i,
                    title: `${currentYear}ë…„ ${monthStr}ì›” êµìœ¡`,
                    items: [
                        { id: 1, title: `${currentYear}ë…„ ${monthStr}ì›” êµìœ¡ë‚´ìš©`, type: 'content', completed: allCompleted },
                        { id: 2, title: `${currentYear}ë…„ ${monthStr}ì›” í€´ì¦ˆ`, type: 'quiz', completed: allCompleted }
                    ],
                    allCompleted: allCompleted
                });
            }
            return months;
        }

        const educationData = generateEducationData();

        // ë¡œê·¸ì¸ ì²˜ë¦¬
        function handleLogin() {
            const employeeId = document.getElementById('employeeId').value;
            const password = document.getElementById('password').value;
            
            if (employeeId && password) {
                currentUser = employeeId;
                if (adminAccounts[employeeId]) {
                    isAdmin = true;
                    document.getElementById('adminMode').classList.remove('hidden');
                    document.getElementById('userManagementMenu').classList.remove('hidden');
                    document.getElementById('writeNoticeBtn').classList.remove('hidden');
                }
                showScreen('main');
            }
        }

        // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
        function handleLogout() {
            currentUser = null;
            isAdmin = false;
            notices = [];
            signatures = {};
            document.getElementById('employeeId').value = '';
            document.getElementById('password').value = '';
            showScreen('login');
        }

        // í™”ë©´ ì „í™˜
        function showScreen(screenName) {
            // ëª¨ë“  í™”ë©´ ìˆ¨ê¸°ê¸°
            const screens = ['loginScreen', 'mainScreen', 'educationScreen', 'noticeScreen', 'suggestionScreen', 'settingsScreen', 'userManagementScreen'];
            screens.forEach(screen => {
                document.getElementById(screen).classList.add('hidden');
            });
            
            // ì„ íƒëœ í™”ë©´ ë³´ì´ê¸°
            if (screenName === 'login') {
                document.getElementById('loginScreen').classList.remove('hidden');
            } else if (screenName === 'main') {
                document.getElementById('mainScreen').classList.remove('hidden');
            } else if (screenName === 'education') {
                document.getElementById('educationScreen').classList.remove('hidden');
                renderEducationList();
            } else if (screenName === 'notice') {
                document.getElementById('noticeScreen').classList.remove('hidden');
                renderNoticeList();
            } else if (screenName === 'suggestion') {
                document.getElementById('suggestionScreen').classList.remove('hidden');
            } else if (screenName === 'settings') {
                document.getElementById('settingsScreen').classList.remove('hidden');
            } else if (screenName === 'userManagement' && isAdmin) {
                document.getElementById('userManagementScreen').classList.remove('hidden');
                renderUserProgress();
            }
        }

        // ì›”ë³„ êµìœ¡ í† ê¸€
        function toggleMonth(monthId) {
            const content = document.getElementById(`month-content-${monthId}`);
            const chevron = document.getElementById(`chevron-${monthId}`);
            
            if (content.classList.contains('hidden')) {
                content.classList.remove('hidden');
                chevron.style.transform = 'rotate(90deg)';
            } else {
                content.classList.add('hidden');
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // í€´ì¦ˆ ì‹œì‘
        function startQuiz(monthId) {
            currentQuiz = monthId;
            userAnswers = {};
            quizSubmitted = false;
            
            document.getElementById('quizTitle').textContent = quizData[monthId]?.title || `2025ë…„ ${String(monthId).padStart(2, '0')}ì›” êµìœ¡ ìë£Œ ì‹œí—˜ ë¬¸ì œ`;
            document.getElementById('quizScore').classList.add('hidden');
            document.getElementById('submitQuizBtn').disabled = false;
            document.getElementById('submitQuizBtn').textContent = 'ì œì¶œí•˜ê¸°';
            document.getElementById('quizCloseText').textContent = 'ì·¨ì†Œ';
            
            renderQuiz(monthId);
            document.getElementById('quizModal').classList.remove('hidden');
        }

        // í€´ì¦ˆ ë‹µì•ˆ ì„ íƒ
        function selectAnswer(questionId, answerIndex) {
            if (quizSubmitted) return;
            
            userAnswers[questionId] = answerIndex;
            
            // ì„ íƒëœ ì˜µì…˜ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸
            const options = document.querySelectorAll(`[id^="option-${questionId}-"]`);
            options.forEach((option, index) => {
                if (index === answerIndex) {
                    option.classList.add('selected');
                } else {
                    option.classList.remove('selected');
                }
            });
        }

        // í€´ì¦ˆ ì œì¶œ
        function submitQuiz() {
            if (quizSubmitted) return;
            
            const quiz = quizData[currentQuiz];
            if (!quiz) return;
            
            let correctCount = 0;
            
            quiz.questions.forEach(question => {
                const userAnswer = userAnswers[question.id];
                const isCorrect = userAnswer === question.correctAnswer;
                
                if (isCorrect) correctCount++;
                
                // ì •ë‹µ í‘œì‹œ
                const options = document.querySelectorAll(`[id^="option-${question.id}-"]`);
                options.forEach((option, index) => {
                    option.classList.remove('selected');
                    if (index === question.correctAnswer) {
                        option.classList.add('correct');
                    } else if (index === userAnswer && !isCorrect) {
                        option.classList.add('wrong');
                    }
                });
                
                // í•´ì„¤ í‘œì‹œ
                document.getElementById(`explanation-${question.id}`).classList.remove('hidden');
            });
            
            // ì ìˆ˜ í‘œì‹œ
            const score = Math.round((correctCount / quiz.questions.length) * 100);
            document.getElementById('quizScore').textContent = `ì ìˆ˜: ${score}ì  (${correctCount}/${quiz.questions.length}ë¬¸ì œ ì •ë‹µ)`;
            document.getElementById('quizScore').classList.remove('hidden');
            
            // ë²„íŠ¼ ìƒíƒœ ë³€ê²½
            document.getElementById('submitQuizBtn').disabled = true;
            document.getElementById('submitQuizBtn').textContent = 'ì œì¶œ ì™„ë£Œ';
            document.getElementById('quizCloseText').textContent = 'ë‹«ê¸°';
            
            quizSubmitted = true;
            
            // êµìœ¡ ì™„ë£Œ ìƒíƒœ ì—…ë°ì´íŠ¸
            const monthData = educationData.find(m => m.id === currentQuiz);
            if (monthData) {
                monthData.items.forEach(item => item.completed = true);
                monthData.allCompleted = true;
            }
        }

        // í€´ì¦ˆ ë‹«ê¸°
        function closeQuiz() {
            document.getElementById('quizModal').classList.add('hidden');
            if (quizSubmitted) {
                renderEducationList();
            }
        }

        // ì„œëª… ëª¨ë‹¬ ì—´ê¸°
        function openSignatureModal(monthId) {
            currentSignatureMonth = monthId;
            document.getElementById('signatureInput').value = '';
            document.getElementById('signatureModal').classList.remove('hidden');
        }

        // ì„œëª… ëª¨ë‹¬ ë‹«ê¸°
        function closeSignatureModal() {
            document.getElementById('signatureModal').classList.add('hidden');
        }

        // ì„œëª… ì €ì¥
        function saveSignature() {
            const signature = document.getElementById('signatureInput').value.trim();
            
            if (!signature) {
                alert('ì„œëª…ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const now = new Date();
            signatures[currentSignatureMonth] = {
                signature: signature,
                employeeId: currentUser,
                employeeName: adminAccounts[currentUser]?.name || 'ì¼ë°˜ì‚¬ìš©ì',
                date: now.toLocaleDateString('ko-KR'),
                time: now.toLocaleTimeString('ko-KR', { hour: '2-digit', minute: '2-digit' })
            };
            
            closeSignatureModal();
            renderEducationList();
        }

        // ìˆ˜ë£Œì¦ ë‹¤ìš´ë¡œë“œ
        function downloadCertificate(monthId) {
            alert(`${monthId}ì›” ìˆ˜ë£Œì¦ ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.`);
        }

        // Google Form ì—´ê¸°
        function openGoogleForm() {
            window.open('https://forms.google.com', '_blank');
        }

        // ê³µì§€ì‚¬í•­ í† ê¸€
        function toggleNoticeForm() {
            const form = document.getElementById('noticeForm');
            form.classList.toggle('hidden');
        }

        // ê³µì§€ì‚¬í•­ ì¶”ê°€
        function addNotice() {
            const title = document.getElementById('noticeTitle').value.trim();
            const content = document.getElementById('noticeContent').value.trim();
            
            if (!title || !content) {
                alert('ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            notices.unshift({
                id: Date.now(),
                title: title,
                content: content,
                author: adminAccounts[currentUser]?.name || 'ê´€ë¦¬ì',
                date: new Date().toLocaleDateString('ko-KR')
            });
            
            document.getElementById('noticeTitle').value = '';
            document.getElementById('noticeContent').value = '';
            toggleNoticeForm();
            renderNoticeList();
        }

        // ê³µì§€ì‚¬í•­ ëª©ë¡ ë Œë”ë§
        function renderNoticeList() {
            const container = document.getElementById('noticeList');
            
            if (notices.length === 0) {
                container.innerHTML = `
                    <div class="bg-white rounded-2xl shadow-md p-8 text-center border border-slate-100">
                        <span class="text-5xl mb-4 block">ğŸ“¢</span>
                        <span class="text-slate-500 text-lg">ê³µì§€ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = notices.map(notice => `
                <div class="bg-white rounded-2xl shadow-md p-6 mb-4 border border-slate-100">
                    <h3 class="text-lg font-semibold text-slate-800 mb-2">${notice.title}</h3>
                    <p class="text-slate-600 mb-3">${notice.content}</p>
                    <div class="flex items-center justify-between text-sm text-slate-500">
                        <span>${notice.author}</span>
                        <span>${notice.date}</span>
                    </div>
                </div>
            `).join('');
        }

        // ì‚¬ìš©ì ì§„ë„ ë Œë”ë§ (ê´€ë¦¬ììš©)
        function renderUserProgress() {
            const container = document.getElementById('userProgressList');
            
            // ìƒ˜í”Œ ì‚¬ìš©ì ë°ì´í„°
            const users = [
                { id: 'K2024001', name: 'ê¹€ì² ìˆ˜', progress: 75, quizScore: 85 },
                { id: 'K2024002', name: 'ì´ì˜í¬', progress: 100, quizScore: 95 },
                { id: 'K2024003', name: 'ë°•ë¯¼ìˆ˜', progress: 50, quizScore: 70 },
                { id: 'K2024004', name: 'ì •ìˆ˜ì§„', progress: 90, quizScore: 88 }
            ];
            
            container.innerHTML = users.map(user => `
                <div class="bg-white rounded-2xl shadow-md p-6 border border-slate-100">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h3 class="text-lg font-semibold text-slate-800">${user.name}</h3>
                            <p class="text-sm text-slate-500">${user.id}</p>
                        </div>
                        <div class="text-right">
                            <p class="text-sm text-slate-600">í€´ì¦ˆ í‰ê· </p>
                            <p class="text-2xl font-bold text-blue-600">${user.quizScore}ì </p>
                        </div>
                    </div>
                    <div class="mb-2">
                        <div class="flex items-center justify-between text-sm mb-1">
                            <span class="text-slate-600">êµìœ¡ ì§„ë„</span>
                            <span class="font-medium text-slate-800">${user.progress}%</span>
                        </div>
                        <div class="w-full bg-slate-200 rounded-full h-2">
                            <div class="bg-gradient-to-r from-blue-500 to-blue-600 h-2 rounded-full" style="width: ${user.progress}%"></div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ëª¨ë“  íŒŒì¼ ì €ì¥ (ê´€ë¦¬ììš©)
        function saveAllFiles() {
            alert('ë°ì´í„° ì €ì¥ ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.');
        }

        // Enter í‚¤ë¡œ ë¡œê·¸ì¸
        document.addEventListener('DOMContentLoaded', function() {
            const passwordInput = document.getElementById('password');
            const employeeIdInput = document.getElementById('employeeId');
            
            passwordInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    handleLogin();
                }
            });
            
            employeeIdInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    passwordInput.focus();
                }
            });
        });